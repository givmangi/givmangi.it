<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="img/giuseppe.webp">
    <title>BUONGIORNO DA GIUSEPPE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap');
        
            html {
            height: 100%;
            background: linear-gradient(45deg, red, orange, yellow, green, blue, indigo, violet);
            background-size: 400% 400%;
            animation: psychedelic-bg 10s ease infinite;
        }

        body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Comic Neue', cursive;
            animation: wobble 1s linear infinite; /* Il wobble rimane qui */
            cursor: url('img/cursor.cur'), auto;
            touch-action: manipulation;

        }       
        @keyframes psychedelic-bg { 
            0%{background-position:0% 50%} 
            50%{background-position:100% 50%} 
            100%{background-position:0% 50%} 
        }

        .main-container {
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            height: 100%; text-align: center; color: white; position: relative; z-index: 10;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%{transform:scale(1)} 50%{transform:scale(1.05)} 100%{transform:scale(1)} }

        .main-container h1 {
            font-size: 6vw; margin: 0; text-transform: uppercase;
            text-shadow: 3px 3px 0 #FF00DE, 6px 6px 0 #00F6FF, 9px 9px 0 #5EFF00;
        }
        .main-container h2 {
            font-size: 8vw; margin: 0;
            text-shadow: -3px -3px 0 #FFC300, -6px -6px 0 #FF5733, -9px -9px 0 #C70039;
        }
        .main-container p { font-size: 3vw; margin: 10px 0; }
        
        .giuseppe-image {
            max-width: 300px; width: 30vw; height: auto; border-radius: 20px;
            border: 5px solid yellow;
            box-shadow: 0 0 30px 10px #fff, 0 0 50px 20px #f0f, 0 0 60px 30px #0ff;
            animation: spin-and-color 5s linear infinite;
            /* Aggiungiamo transition per rendere l'effetto giroscopio fluido */
            transition: transform 0.1s linear;
        }
        @keyframes spin-and-color { from {transform:rotate(0deg); filter:hue-rotate(0deg)} to {transform:rotate(360deg); filter:hue-rotate(360deg)} }
        
        .flying-stuff-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 5; }
        .flyer { position: absolute; font-size: 50px; }
        
        @keyframes wobble {
            0%, 100% { transform: rotate(0deg) skewX(0deg); }
            25% { transform: rotate(-2deg) skewX(5deg); }
            75% { transform: rotate(2deg) skewX(-5deg); }
        }

        @keyframes fly-across { 0%{transform:translateX(-100px) rotate(0deg);top:10%} 100%{transform:translateX(110vw) rotate(720deg);top:90%} }
        @keyframes fly-across-2 { 0%{transform:translateX(110vw) rotate(0deg);top:20%} 100%{transform:translateX(-100px) rotate(-360deg);top:70%} }
        @keyframes fly-across-3 { 0%{transform:translateY(-100px) rotate(0deg);left:50%} 100%{transform:translateY(110vh) rotate(1080deg);left:40%} }

        .flyer:nth-child(1) { animation: fly-across 10s linear infinite; }
        .flyer:nth-child(2) { animation: fly-across-2 8s linear infinite 2s; }
        .flyer:nth-child(3) { animation: fly-across-3 12s linear infinite 4s; }
        .flyer:nth-child(4) { animation: fly-across 9s linear infinite 1s; top: 5%; }
        .flyer:nth-child(5) { animation: fly-across-2 11s linear infinite 5s; top: 80%; }
        .flyer:nth-child(6) { animation: fly-across-3 7s linear infinite 3s; left: 10%; }
        .flyer:nth-child(7) { animation: fly-across 13s linear infinite 6s; }

        .marquee { position: fixed; bottom: 20px; width: 100%; font-size: 4vw; color: yellow; text-shadow: 2px 2px 2px red; white-space: nowrap; animation: marquee-scroll 15s linear infinite; }
        @keyframes marquee-scroll { from {transform:translateX(100%)} to {transform:translateX(-100%)} }

        @keyframes blink { 50% { opacity: 0; } }
        .blinking-text { animation: blink 0.8s linear infinite; }
        
        .mouse-trail {
            position: absolute; width: 50px; height: 50px; background-image: url('img/hormse.gif');
            background-size: cover; border-radius: 50%; z-index: 9999; pointer-events: none;
            animation: fade-out 1s linear;
        }
        @keyframes fade-out { from {transform:scale(1);opacity:1} to {transform:scale(0);opacity:0} }

        @media (max-width: 768px) {
            .main-container h1 { font-size: 12vw; text-shadow: 2px 2px 0 #FF00DE, 4px 4px 0 #00F6FF; }
            .main-container h2 { font-size: 15vw; text-shadow: -2px -2px 0 #FFC300, -4px -4px 0 #C70039; }
            .main-container p { font-size: 5vw; }
            .giuseppe-image { width: 60vw; box-shadow: 0 0 15px 5px #fff, 0 0 25px 10px #f0f; }
            .flyer { font-size: 40px; }
            .marquee { font-size: 6vw; animation: marquee-scroll 10s linear infinite; }
            .flyer:nth-child(n+5) { display: none; }
        }

        #matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; 
            transform: scale(1.5) !important;
        }
    </style>
</head>
<body>
<canvas id="matrix-canvas"></canvas>


    <div class="flying-stuff-container">
        <div class="flyer">üçï</div> <div class="flyer">üòÇ</div> <div class="flyer">üëΩ</div> <div class="flyer">üí©</div> <div class="flyer">‚ú®</div> <div class="flyer">üê∏</div> <div class="flyer">ü¶Ñ</div> <div class="flyer">üçê</div>
    </div>
    
    <div class="main-container">
        <div class="marquee"><span>!!! GIUSEPPE √à QUI !!! CLICCA OVUNQUE !!! </span><span>!!! GIUSEPPE √à QUI !!! CLICCA OVUNQUE !!! </span></div>
        <h1>BUONGIORNO</h1>
        <p>questo √®</p>
        <marquee behavior="scroll" direction="left">BUONGIORNO DA GIUSEPPE!</marquee>
        <img src="img/giuseppe.webp" alt="Giuseppe la Pera" class="giuseppe-image">
        <h2 class="blinking-text">GIUSEPPE</h2>
        <audio id="lemmeno" autoplay loop muted><source src="audio/lemmeno.mp3" type="audio/mpeg"></audio>
        <audio id="ohmaga" src="audio/ohmaga.mp3"></audio>
        <audio id="oh" src="audio/oh.mp3"></audio>
    </div>

</body>
<script>
    const canvas = document.getElementById('matrix-canvas');
    const ctx = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const katakana = '„Ç¢„Ç°„Ç´„Çµ„Çø„Éä„Éè„Éû„É§„É£„É©„ÉØ„Ç¨„Ç∂„ÉÄ„Éê„Éë„Ç§„Ç£„Ç≠„Ç∑„ÉÅ„Éã„Éí„Éü„É™„É∞„ÇÆ„Ç∏„ÉÇ„Éì„Éî„Ç¶„Ç•„ÇØ„Çπ„ÉÑ„Éå„Éï„É†„É¶„É•„É´„Ç∞„Ç∫„Éñ„Éó„Ç®„Çß„Ç±„Çª„ÉÜ„Éç„Éò„É°„É¨„É±„Ç≤„Çº„Éá„Éô„Éö„Ç™„Ç©„Ç≥„ÇΩ„Éà„Éé„Éõ„É¢„É®„Éß„É≠„É≤„Ç¥„Çæ„Éâ„Éú„Éù„É¥„ÉÉ„É≥';
    const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const nums = '0123456789';
    const alphabet = katakana + latin + nums;

    const fontSize = 16;
    const columns = canvas.width / fontSize;
    const rainDrops = [];

    for (let x = 0; x < columns; x++) {
        rainDrops[x] = 1;
    }

    const drawMatrix = () => {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = '#0F0'; // Colore Verde Matrix
        ctx.font = fontSize + 'px monospace';

        for (let i = 0; i < rainDrops.length; i++) {
            const text = alphabet.charAt(Math.floor(Math.random() * alphabet.length));
            ctx.fillText(text, i * fontSize, rainDrops[i] * fontSize);

            if (rainDrops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                rainDrops[i] = 0;
            }
            rainDrops[i]++;
        }
    };

    setInterval(drawMatrix, 33);
    var clicks = 0;
    window.onload = function() {
        const audio = document.getElementById('lemmeno');
        audio.muted = false;
        alert("BUONGIORNO DA GIUSEPPE!"); 
        document.addEventListener('click', function() {
            clicks++;
            audio.play();
            if (clicks % 4 == 0) { document.getElementById('ohmaga').play(); }
            else { document.getElementById('oh').play(); }
            createPearExplosion(e.pageX, e.pageY);

        });
    };

    window.addEventListener('wheel', event => {
        event.preventDefault();
    }, { passive: false });

    // Blocca lo scroll del tocco su mobile
    window.addEventListener('touchmove', event => {
        event.preventDefault();
    }, { passive: false });

    function createPearExplosion(x, y) {
        const explosionSize = 10; //perat√†
        for (let i = 0; i < explosionSize; i++) {
            const pear = document.createElement('img');
            pear.src = 'img/giuseppe.webp';
            pear.style.position = 'absolute';
            pear.style.left = x + 'px';
            pear.style.top = y + 'px';
            pear.style.width = '50px';
            pear.style.height = 'auto';
            pear.style.zIndex = '10000';
            pear.style.pointerEvents = 'none';
            pear.style.transition = 'all 1s ease-out';
            document.body.appendChild(pear);

            const angle = Math.random() * Math.PI * 2;
            const radius = Math.random() * 200 + 100;
            const targetX = x + Math.cos(angle) * radius;
            const targetY = y + Math.sin(angle) * radius;

            setTimeout(() => {
                pear.style.left = targetX + 'px';
                pear.style.top = targetY + 'px';
                pear.style.transform = 'scale(0) rotate(720deg)';
                pear.style.opacity = '0';
            }, 10);

            setTimeout(() => {
                pear.remove();
            }, 1000);
        }
    }

    function createTrail(x, y) {
        let trail = document.createElement('div');
        trail.className = 'mouse-trail';
        trail.style.left = x + 'px';
        trail.style.top = y + 'px';
        document.body.appendChild(trail);
        setTimeout(() => { trail.remove(); }, 1000);
    }
    document.addEventListener('mousemove', e => createTrail(e.pageX, e.pageY));
    document.addEventListener('touchmove', e => createTrail(e.touches[0].pageX, e.touches[0].pageY));

    function handleOrientation(event) {
        const beta = event.beta; const gamma = event.gamma;
        const giuseppe = document.querySelector('.giuseppe-image');
        if (giuseppe && beta !== null && gamma !== null) {
            const tiltY = Math.max(-25, Math.min(25, beta)); 
            const tiltX = Math.max(-25, Math.min(25, gamma));
            giuseppe.style.animation = 'none'; 
            giuseppe.style.transform = `perspective(500px) rotateX(${tiltY}deg) rotateY(${tiltX}deg)`;
        }
    }
    if (window.DeviceOrientationEvent && typeof DeviceOrientationEvent.requestPermission === 'function') {
        document.addEventListener('click', () => {
            DeviceOrientationEvent.requestPermission()
                .then(p => { if (p === 'granted') window.addEventListener('deviceorientation', handleOrientation); })
                .catch(console.error);
        }, { once: true });
    } else {
        window.addEventListener('deviceorientation', handleOrientation);
    }

</script>
</html>