<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentazione | Analisi Dati Accademia degli Agiati</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;700&display=swap');

        :root {
            --primary-purple: #6A4C93;
            --light-purple: #A47FC7;
            --dark-purple: #4A2C70;
            --lavender: #C8B8E8;
            --sage: #87A96B;
            --warm-gold: #DAA520;
            --dusty-rose: #C49BB0;
            --background-color: #fdfdfd;
            --text-color: #333;
        }

        body {
            font-family: 'Source Serif 4', serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        main {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem 4rem;
            box-sizing: border-box;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease-in-out, visibility 0.6s ease-in-out;
            text-align: center;
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
        }

        .slide h1 {
            color: var(--dark-purple);
            font-size: 3.5rem;
            margin-bottom: 1rem;
        }
        
        .slide h2 {
            color: var(--primary-purple);
            font-size: 2.5rem;
            margin-bottom: 2rem;
            font-weight: 700;
        }

        .slide p {
            font-size: 1.25rem;
            max-width: 800px;
            line-height: 1.6;
            margin-top: 2rem;
        }

        .chart-container {
            width: 80%;
            max-width: 900px;
            height: 60%;
            max-height: 500px;
        }

        #navigation {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        #navigation button {
            background-color: var(--primary-purple);
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            border-radius: 5px;
            margin-left: 10px;
            transition: background-color 0.3s;
        }

        #navigation button:hover {
            background-color: var(--dark-purple);
        }
        
        .logo {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--dark-purple);
        }

    </style>
</head>
<body>
    <div class="logo">Accademia Roveretana degli Agiati</div>

    <main>
        <div class="slide active">
            <h1>Analisi della Soddisfazione del Pubblico</h1>
            <p style="font-size:1.5rem; color: var(--primary-purple);">Rendicontazione strategica per la Dirigenza</p>
            <p>A cura di Giuseppe Pio Mangiacotti</p>
        </div>

        <div class="slide">
            <h2>Atto 1: Successo Incontestabile</h2>
            <div class="chart-container" style="height: 30%;">
                <canvas id="satisfactionChart"></canvas>
            </div>
            <p>L'analisi rivela un livello di apprezzamento eccezionalmente alto: il <strong>100% dei partecipanti</strong> si dichiara soddisfatto delle attività proposte, confermando il valore dell'offerta culturale dell'Accademia.</p>
        </div>

        <div class="slide">
            <h2>Atto 2a: Il Paradosso della Soddisfazione Digitale</h2>
            <div class="chart-container">
                <canvas id="paradoxChart"></canvas>
            </div>
            <p>Contrariamente alle aspettative, i partecipanti ai <strong>webinar</strong> mostrano una probabilità significativamente più alta di essere "molto soddisfatti" rispetto al pubblico in presenza. Questo dato svela un'opportunità strategica inattesa nel canale digitale.</p>
        </div>

        <div class="slide">
            <h2>Atto 2b: Il Divario Associazionistico Generazionale</h2>
            <div class="chart-container">
                <canvas id="generationalGapChart"></canvas>
            </div>
            <p>Mentre l'affiliazione come socio cresce con l'età, l'<strong>engagement cognitivo</strong> è presente e vitale anche tra i più giovani. La sfida non è creare interesse da zero, ma <strong>convertire un interesse già esistente</strong> in partecipazione formale.</p>
        </div>

        <div class="slide">
            <h2>Atto 3a: Un KPI per Misurare il Successo</h2>
            <div class="chart-container" style="height: 50%;">
                <canvas id="cesGaugeChart"></canvas>
            </div>
             <p>Abbiamo sviluppato il <strong>Cultural Engagement Score (CES)</strong>, un indicatore sintetico che unisce soddisfazione, affiliazione e partecipazione attiva per fornire una misura olistica della performance dell'Accademia.</p>
        </div>

        <div class="slide">
            <h2>Atto 3b: Una Roadmap per il Futuro</h2>
            <div class="chart-container">
                <canvas id="cesScenariosChart"></canvas>
            </div>
            <p>Il CES non è solo una fotografia del presente, ma uno <strong>strumento di pianificazione</strong>. Questi scenari mostrano come strategie mirate sull'engagement possano portare a una crescita misurabile e significativa del nostro impatto culturale.</p>
        </div>

        <div class="slide">
            <h1>Grazie per l'attenzione</h1>
            <p style="font-size:1.5rem; color: var(--primary-purple);">L'analisi dati come guida per la crescita strategica</p>
            <p>Questa ricerca dimostra come un monitoraggio continuativo possa trasformare i dati in decisioni, garantendo la vitalità e la rilevanza futura dell'Accademia.</p>
        </div>

    </main>

    <div id="navigation">
        <button id="prev">Precedente</button>
        <button id="next">Successivo</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            let currentSlide = 0;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
            }

            document.getElementById('next').addEventListener('click', () => {
                currentSlide = (currentSlide + 1) % slides.length;
                showSlide(currentSlide);
            });

            document.getElementById('prev').addEventListener('click', () => {
                currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                showSlide(currentSlide);
            });
            
            // Gestione tastiera
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') {
                    document.getElementById('next').click();
                } else if (e.key === 'ArrowLeft') {
                    document.getElementById('prev').click();
                }
            });

            // --- INIZIALIZZAZIONE GRAFICI ---

            // 1. Satisfaction Chart
            const ctx1 = document.getElementById('satisfactionChart').getContext('2d');
            new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['Soddisfazione Complessiva'],
                    datasets: [{
                        label: 'Soddisfatto',
                        data: [43],
                        backgroundColor: '#A47FC7',
                        borderColor: '#4A2C70',
                        borderWidth: 1
                    }, {
                        label: 'Molto Soddisfatto',
                        data: [57],
                        backgroundColor: '#6A4C93',
                        borderColor: '#4A2C70',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        tooltip: { enabled: false }
                    },
                    scales: {
                        x: {
                            stacked: true,
                            display: false,
                            max: 100
                        },
                        y: {
                            stacked: true,
                            display: false
                        }
                    }
                }
            });

            // 2. Paradox Slope Chart
            const ctx2 = document.getElementById('paradoxChart').getContext('2d');
            new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: ['Pubblico in Presenza', 'Pubblico Webinar'],
                    datasets: [{
                        label: '% di "Molto Soddisfatti"',
                        data: [57.1, 89.7],
                        borderColor: '#6A4C93',
                        backgroundColor: '#DAA520',
                        pointRadius: 10,
                        pointHoverRadius: 12,
                        tension: 0.1,
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 50,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Percentuale di "Molto Soddisfatti"'
                            }
                        },
                        x: {
                           ticks: { font: { size: 16 } }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // 3. Generational Gap Chart
            const ctx3 = document.getElementById('generationalGapChart').getContext('2d');
            new Chart(ctx3, {
                type: 'bar',
                data: {
                    labels: ['14-30', '31-50', '51-70', '>70'],
                    datasets: [{
                        label: 'Engagement Cognitivo',
                        data: [0.35, 0.18, 0.4, 0.18],
                        type: 'line',
                        borderColor: '#DAA520',
                        backgroundColor: '#DAA520',
                        pointRadius: 6,
                        borderWidth: 3,
                        yAxisID: 'y1',
                        zIndex: 2
                    },
                    {
                        label: '% Soci',
                        data: [0, 5.6, 15.0, 40.0],
                        backgroundColor: '#6A4C93',
                        yAxisID: 'y'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: '% Soci dell\'Accademia'
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            min: 0,
                            max: 0.5,
                            title: {
                                display: true,
                                text: 'Indice di Engagement Cognitivo'
                            },
                            grid: {
                                drawOnChartArea: false 
                            }
                        }
                    },
                    plugins: {
                        legend: { position: 'top' }
                    }
                }
            });

            // 4. CES Gauge Chart
            const ctx4 = document.getElementById('cesGaugeChart').getContext('2d');
            new Chart(ctx4, {
                type: 'doughnut',
                data: {
                    labels: ['CES Attuale', 'Potenziale'],
                    datasets: [{
                        data: [0.962, 2.0 - 0.962],
                        backgroundColor: ['#6A4C93', '#C8B8E8'],
                        borderColor: ['#4A2C70', '#fdfdfd'],
                        borderWidth: 2,
                        circumference: 180,
                        rotation: 270
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false },
                    }
                }
            });
            
             // 5. CES Scenarios Chart
            const ctx5 = document.getElementById('cesScenariosChart').getContext('2d');
            new Chart(ctx5, {
                type: 'bar',
                data: {
                    labels: ['Baseline', 'Scenario Conservativo', 'Scenario Ambizioso', 'Scenario Eccellenza'],
                    datasets: [{
                        label: 'Punteggio CES Proiettato',
                        data: [0.962, 1.150, 1.254, 1.359],
                        backgroundColor: ['#C49BB0', '#A47FC7', '#6A4C93', '#87A96B']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                     plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Punteggio CES'
                            }
                        }
                    }
                }
            });

        });
    </script>
</body>
</html>